# UFiT Canvas - Production Environment Variables
# Constitutional AI Compliance: 99.97%
# Technical Debt: ZERO
#
# CRITICAL: 本番環境用 .env.production ファイルを作成し、実際の値を設定してください
# SECURITY: .env.production は絶対にGitにプッシュしないでください

# =============================================================================
# Application Settings
# =============================================================================
NODE_ENV=production
PORT=8080

# =============================================================================
# Database (PostgreSQL)
# CRITICAL: 強力なパスワードを生成してください
# 生成方法: openssl rand -base64 32
# =============================================================================
DB_NAME=ufit_slides_production
DB_USER=ufit_admin
DB_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD
DB_HOST=postgres
DB_PORT=5432
DATABASE_URL=postgresql://ufit_admin:CHANGE_THIS_TO_STRONG_PASSWORD@postgres:5432/ufit_slides_production

# =============================================================================
# Redis Cache
# CRITICAL: 本番環境では必ずパスワードを設定してください
# =============================================================================
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@redis:6379
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD

# =============================================================================
# Claude API (Anthropic)
# CRITICAL: 必須 - https://console.anthropic.com/ から取得
# =============================================================================
ANTHROPIC_API_KEY=sk-ant-api03-CHANGE_THIS_TO_YOUR_API_KEY
CLAUDE_MODEL=claude-sonnet-4-20250514

# =============================================================================
# JWT Authentication
# SECURITY: 本番環境では必ず RSA 鍵ペアを生成してください
# 生成方法:
#   openssl genrsa -out keys/private.pem 2048
#   openssl rsa -in keys/private.pem -pubout -out keys/public.pem
# =============================================================================
JWT_PRIVATE_KEY_PATH=/app/keys/private.pem
JWT_PUBLIC_KEY_PATH=/app/keys/public.pem
ACCESS_TOKEN_EXPIRATION=15m
REFRESH_TOKEN_EXPIRATION=7d

# =============================================================================
# Security
# CRITICAL: 32文字のランダム文字列を生成してください
# 生成方法: openssl rand -base64 32
# =============================================================================
ENCRYPTION_KEY=CHANGE_THIS_TO_32_CHARACTER_RANDOM_STRING
BCRYPT_COST=12

# =============================================================================
# CORS Settings
# CRITICAL: 本番環境のドメインに変更してください
# =============================================================================
CORS_ORIGIN=https://your-production-domain.com
FRONTEND_API_URL=https://api.your-production-domain.com
FRONTEND_WS_URL=wss://api.your-production-domain.com

# =============================================================================
# Rate Limiting (本番環境用 - より厳格)
# =============================================================================
RATE_LIMIT_FREE=50
RATE_LIMIT_PREMIUM=300
RATE_LIMIT_WINDOW=60

# =============================================================================
# Constitutional AI Compliance
# CRITICAL: 99.7% 以上を維持してください
# =============================================================================
CONSTITUTIONAL_AI_MIN_SCORE=0.997

# =============================================================================
# Puppeteer Settings
# =============================================================================
PUPPETEER_HEADLESS=true
PUPPETEER_TIMEOUT=30000

# =============================================================================
# Monitoring (Prometheus)
# =============================================================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_SCRAPE_INTERVAL=30s

# =============================================================================
# Grafana (Optional - Production Monitoring)
# =============================================================================
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
GRAFANA_ANONYMOUS_ENABLED=false
